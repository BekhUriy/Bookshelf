var M=(e,t,o)=>{if(!t.has(e))throw TypeError("Cannot "+o)};var a=(e,t,o)=>(M(e,t,"read from private field"),o?o.call(e):t.get(e)),y=(e,t,o)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,o)};import{a as u}from"./vendor-1c5e86dd.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}})();var l;class v{constructor(t,o){y(this,l,"https://books-backend.p.goit.global/");this.selectedCategory=t,this.bookId=o}fetchBooksCategoryList(){return u.get(`${a(this,l)}books/category-list`)}fetchBestSellersBooks(){return u.get(`${a(this,l)}books/top-books`)}fetchBooksByCategory(t){return u.get(`${a(this,l)}books/category?category=${t}`)}fetchBookById(t){return u.get(`${a(this,l)}books/${t}`)}}l=new WeakMap;const I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAALCAYAAAAeEY8BAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMGSURBVHgBrVRNSFRRFD7nvnnTENj4V+hQvhkdzDAXUYsW0R8mhKkJZVDQj1YaUYQYRT+LAjcFRYRWhmZiq1q0UKJV4yIGKgwjJMOcec8sXARqZo7z3rt9bzQQEZtFFw73nu+e852fe97jYDC4zI7H20jKCmbWY5a116MomTZRI7A3RFQGvEES3ZJSfojb9lFVVfPJtu8z0QbgnXHLOuNmPkJCnIA9AYtHdH1zrt9/Dj7nwdNrSlnrFqIAd/XAvoCz2CLaJxC8GGAxMVdJ5pWqEA1xonTw7IC+GrgPyXRCfw+nKpWoiCzrMkhH4XcaSdR4TDNgCdEHrAPkWcAy/H5/AfTb0O+wEDku5guwzwJPCTjTcKcpUh4WQ7rejQDb4ZQL8Bd2N82tyampOhi/hXTZzJfmqlseMYwqF1ET1HUOZqlqhq7rYZZyHEn6UG2FINqNq1jUMG6gW93Ay+doFS0QqAZnGLHShaZppQpRvyWlU/UMzVterzfu7GzbU/PxgKa1WMwtCDj8F0PFWVKIazg2G4bRj6ApTgKJpFHYPPeZUCiEHKXlKEJIWQKLQWR6HbpJSSx22ijlY3a6M9uVdFR8Eccc4JuQ4HGceyEp+dnZmUKItcC/LcblQisM7ME8TQvLWWwj5NmSCUg5Ip2hIyqHzw/B7Lz3euivwTeBBBtdHk+hNT09ZKrqC4cTdgeAq4sUg8fXtIM22ox37nG7nadYNmHGYqXR4eF2tHabS8qfJvMQ2lrBihJC+xgVV+LpXiH474FI5PPN/V5/w87xQpRk3+1JHTnbOdYHXz9b1iFFUd4NRqMv83y+NVJVt2Lunji8im1P8sKM5CNKxSTUk01tfIqilOSS96iSBK3AsQxltfNJ6krGTywE+BiNAW0CyVOQdsgHtOVfJLBbBfsiDMMu7INIfoCSXLwk8UOqAdlVHJ2J/gj5BPmKQCY808j5dGdnJhVyhb5TK770aq6jZvofCSSSaEXwGfyoBO2BWgjJo8Tg0yg5Q0cUhjznWhpP2OMJE11Mcv0B6YlAAVccb78AAAAASUVORK5CYII=",H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOASURBVHgB7VdLaBRBEH3Vm91V/KwK/mIOcQ/GXPwgQQ8qSLz4QUWEXMSLIHjLxd/FY0CCSrxoQJEc1VMgIDkYEURCVEyCEA8aI35WQ0STYEyyO132zOzOdk9mZicQbykYZrrnddXrV101u8CiuUZRL7kjvcWShb0EWiuAlORovG6CwFIiz+BviaT1ks5gCPMhwfdQx0g+UI/bsXA2TLP5RjqPEVQiwe3YyiLZC6JMcQbBXMPmI3F5Im6gs/kBHVE1ZwmlHqt1GWdtMM8K85G4pMroQ2ZsJSpHEDqicCd1kiXVqguQdlLNe+mZfe/C5kLwW6z29CE9rkGCmA4oKWw5wAH30rMfEzYXjhdH9LhGOhTLLAXJXLUCyB4FVS1TAws8PgJ8eaJYCxO3aT9oRRZIpMBTOWD0FfAnh4AMVYeSEExpZh++4TJoRzOQXqn5UPbjNWT3aWDiE7C8BnTwLqhmv4mZGQf3XQMPtqkd6o5puRFXH0hLjbX8U+1x0O6rBgHP1u9Sge8rnHJyrNMg4Fk6A9rXAsqegu5XMItQJcA+eZfVIMqoeg84Uw+sqY/EYcl69yyUTJopN0lYtmcqVzbHKMPV2ypj2Dlvjk92Q4ST8E5vEWxLXZEGVVVCuH5luTFIcDgJVyYydhArQEUQzBREKQFL2M2iiOJ46YhBdA6JSCXsd17gmG05Nglt7OsvPiXILdqS41hKxMSUlCAfIQQowZpsJFHZ4mBYOzts84goURtIPL+DGY8EGWfC7zbgYPoWl2z6N3hs2Cly2rQzGFPIg39+UNhx0Lo6YOmqIlGa06BCSSgV2KBpy/h1ALLrCjj3RjkquJNLVkHsPgfReNHbluy5Ae69Df77y+tGNllx4tb8qoMltL6m1r3tBPo6ysFd18DUOOTTVvWYcKZldwvk85tFCHl3/twPq22vUiRjpI2jzoRSYtILZDuaHNPfwm+yRxGp3Qfuf6Q+3wkEm0rx9GTZJzmbnQklYUnKGRVc8WAqwPtnTuu2K0nTylhq9z+vBTrVgY8+mmVLsOjSP7mxLvvLG/ATEAFj7w7u0eOSb1+Uv7BhSD3U4X8ZYSTV+n0zwpRwsmbJJiVZwW3hC3xJTDDR4bm8AowvbajNz8L+EZnFghkPsqCm9PXcO8Qh4S1r3lhvCdHALKvViUrO52+gXaEq/3kSNMoJfhEUfNH89g83+MD9ZjdiQAAAAABJRU5ErkJggg==",B=document.querySelector("#allModal"),m=document.querySelector(".add-storage-button"),g=document.querySelector(".remove-modal-btn"),w=document.querySelector(".storage-description"),c="storage-data";let k=[],d={};m.addEventListener("click",R);g.addEventListener("click",V);async function Q(e){B.innerHTML="";try{const t=await j(e);return p(),J(t),t}catch(t){throw console.error("Error",t),t}}async function j(e){try{d={};const o=await(await fetch(`https://books-backend.p.goit.global/books/${e}`)).json();return d={book_image:o.book_image,title:o.title,author:o.author,marketAmazon:o.buy_links[0].url,marketAppleBooks:o.buy_links[1].url,marketBookshop:o.buy_links[4].url,list_name:o.list_name,id:o._id},o}catch(t){throw console.error("Error",t),t}}function p(){const e=JSON.parse(localStorage.getItem(c)),t=d.id;if(!e||e.length===0){m.style.display="block",g.style.display="none";return}else e.find(n=>n.id===t)?(m.style.display="none",g.style.display="block"):(m.style.display="block",g.style.display="none")}function J(e){const t=e.book_image,o=e.title,n=e.author,s=e.buy_links[0].url,r=e.buy_links[1].url;e.buy_links[4].url;const i=e.description,C=` <div class="modal" id="bookModal">
        <img src="${t}" alt="Book Cover" class="image-about-book-modal">
        <h2 id="modalTitle" class="title-about-book-modal">${o}</h2>
        <p class="author-about-book-modal"> ${n}</p>
        <p class="text-about-book-modal">${i}</p>
        <div id="platformLinks">
        <ul class="shop-modal-list">
        <li class="shop-modal-item">
          <a href="${s}" target="_blank">
          <img width="62" height="19" src="${I}"alt="Amazon"/>
          </a>
        </li>
        <li class="shop-modal-item"><a href="${r}" target="_blank">
        <img width="33" height="32" src="${H}" alt="AppleBooks"/>
        </a>
        </li>
        </ul>
        
        </div>`;B.innerHTML=C}function R(){const e=JSON.parse(localStorage.getItem(c)),t=d;!e||e.length===0?(k.push(t),localStorage.setItem(c,JSON.stringify(k))):(e.push(t),localStorage.setItem(c,JSON.stringify(e))),w.textContent="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",p()}function V(){w.textContent="";const e=d.id,t=JSON.parse(localStorage.getItem(c)),o=t.findIndex(n=>n.id===e);t.splice(o,1),localStorage.setItem(c,JSON.stringify(t)),p()}const q=document.querySelector(".about-book-modal"),Y=document.querySelector("#modal-close");document.querySelector(".fire-base-backdrop");const h=document.querySelector(".js-backdrop-modal");function U(e){e.preventDefault();const t=this.getAttribute("data-book-id");q.classList.remove("is-hidden"),h.classList.remove("is-hidden"),console.log(t),Q(t)}function b(){q.classList.add("is-hidden"),h.classList.add("is-hidden")}Y.addEventListener("click",b);document.addEventListener("keydown",function(e){e.key==="Escape"&&b()});h.addEventListener("click",function(e){e.target===h&&b()});const S=document.querySelector(".best-sellers-books"),O=new v;N();async function N(){return await O.fetchBestSellersBooks().then(t=>t.data.map(o=>{const n=o.books.map(s=>`<li class="best-sellers-book js-open-modal" data-book-id="${s._id}">
             <img class="best-sellers-book-img" src="${s.book_image}" alt="${s.title}" />
             <p class="best-sellers-book-title">${s.title}</p>
             <p class="best-sellers-book-author">${s.author}</p>
             <p class="book-overlay">Quick view</p>

</li>`).join("");S.insertAdjacentHTML("beforeend",`<li class="best-seller-category"> 
                <p class="category-title"> ${o.list_name} </p> 
                <ul class="best-sellers-list-in-category">
                ${n} 
                </ul> 
                <button type="button" class="best-sellers-see-more-button" data-button-category-name="${o.list_name}">See more</button>
                    </li>`)}).join("")).then(()=>{document.querySelectorAll(".js-open-modal").forEach(function(o){o.addEventListener("click",U)})}).catch(t=>{console.log(t.message),S.innerHTML="No information"})}const P={btn:document.querySelector(".scrollBtn"),show(){this.btn.classList.remove("scrollBtn-hide")},hide(){this.btn.classList.add("scrollBtn-hide")},addEventListener(){this.btn&&(window.addEventListener("scroll",()=>{(window.scrollY||document.documentElement.scrollTop)>100?this.show():this.hide()}),this.btn.onclick=()=>{window.scrollTo({top:0,behavior:"smooth"})})}};P.addEventListener();const X=document.querySelector(".category");function z(e){e.sort((o,n)=>o.list_name.localeCompare(n.list_name));const t=e.map(o=>{const{list_name:n}=o;return`<li><a class='genre' href="#" target="_self">${n}</a></li>`}).join("");X.insertAdjacentHTML("beforeend",t)}function W(){new v().fetchBooksCategoryList().then(t=>{const o=t.data;console.log(o),z(o)}).catch(t=>{console.error(t)})}W();const A=document.querySelector(".header-modal"),F=document.querySelector(".modal-open-btn"),L=document.querySelector("body"),E=document.querySelector(".open-icon");F.addEventListener("click",G);function G(e){if(A.classList.contains("hidden-modal")){A.classList.remove("hidden-modal"),L.classList.add("stop-scrolling"),E.innerHTML='<use href="./img/sprit.svg#icon-x"/>';return}else A.classList.add("hidden-modal"),L.classList.remove("stop-scrolling"),E.innerHTML='<use href="./img/sprit.svg#icon-burger"/>'}const Z=document.querySelector(".js-home-link"),K=document.querySelector(".js-home-link"),x=location.pathname;x==="/project-DreamTeam09/home.html"?Z.classList.add("active"):K.classList.add("current");const D=document.querySelector(":root"),T=document.querySelector("#themeSwitch");T.addEventListener("change",_);function _(){event.preventDefault(),D.classList.toggle("dark-theme",T.checked)}document.querySelector(".shopping-cards");document.querySelector(".shopping-card");const $=document.querySelector(".shopping-btn-delete"),ee=document.querySelector(".shopping-storage");ee.style.display="none";const te=e=>{try{localStorage.removeItem(e)}catch(t){console.error("Remove state error: ",t.message)}};$.addEventListener("click",oe);function oe(e){e.currentTarget.remove(),te()}f;const se=document.querySelector(".nav-btn");se.addEventListener("click",ne);function ne(){const e=document.querySelector(".fonds"),t=e.querySelector("li").offsetHeight,o=document.querySelector(".icon-down"),n=document.querySelector(".icon-up");if(e.scrollTop+e.clientHeight>=e.scrollHeight)for(;e.scrollTop!==0;)e.scrollTop-=t;else e.scrollTop+=2*t;e.scrollTop+e.clientHeight<e.scrollHeight?(o.classList.remove("is-hidden"),n.classList.add("is-hidden")):(o.classList.add("is-hidden"),n.classList.remove("is-hidden"))}
//# sourceMappingURL=index-e8137bf5.js.map
